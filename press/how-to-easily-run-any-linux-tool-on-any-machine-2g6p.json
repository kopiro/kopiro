{
  "type_of": "article",
  "id": 413686,
  "title": "How to easily run any Linux tool on any machine",
  "description": "Have you ever encountered a situation like the ones below?  Situation 1: You’re on your Linux worksta...",
  "readable_publish_date": "Jul 30 '20",
  "slug": "how-to-easily-run-any-linux-tool-on-any-machine-2g6p",
  "path": "/kopiro/how-to-easily-run-any-linux-tool-on-any-machine-2g6p",
  "url": "https://dev.to/kopiro/how-to-easily-run-any-linux-tool-on-any-machine-2g6p",
  "comments_count": 0,
  "public_reactions_count": 1,
  "collection_id": null,
  "published_timestamp": "2020-07-30T10:41:56Z",
  "language": "en",
  "subforem_id": null,
  "positive_reactions_count": 1,
  "cover_image": null,
  "social_image": "https://media2.dev.to/dynamic/image/width=1000,height=500,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Farticles%2Fc7nus98evjmo77rimbhr.png",
  "canonical_url": "https://dev.to/kopiro/how-to-easily-run-any-linux-tool-on-any-machine-2g6p",
  "created_at": "2020-07-30T10:39:16Z",
  "edited_at": null,
  "crossposted_at": null,
  "published_at": "2020-07-30T10:41:56Z",
  "last_comment_at": "2020-07-30T10:41:56Z",
  "reading_time_minutes": 6,
  "tag_list": "",
  "tags": [],
  "body_html": "<p>Have you ever encountered a situation like the ones below?</p>\n\n<p><strong>Situation 1</strong>: You’re on your Linux workstation, and there is a PHP code that you must execute. But this code only runs under PHP 7, and your workstation only has PHP 5.</p>\n\n<p><strong>Situation 2</strong>: You’re working on your MacBook laptop, and you desperately need your sqlmap tool from your Kali Linux distribution. But you don’t have access to your Virtual Machine.</p>\n\n<p><strong>Situation 3</strong>: You’re on your Windows PC, and you immediately need an NGINX server that serves your static files from a directory.</p>\n\n<p><strong>Situation 4</strong>: No matter which platform, you have to start your Node.js 10 project. But you don’t have Node.js installed on your platform.</p>\n\n<p>Or, in general, have you ever been a situation like this:</p>\n\n<p><strong>Situation X:</strong> you are on one platform, and you immediately need a specific Linux tool, without altering your configuration or installing additional software.</p>\n\n<p>All these situations can be easily solved with a single tool you may have already heard about. It works without messing up your computer by installing additional software, or editing configurations that worked for a long time.</p>\n\n<p><strong>Docker</strong> is an OS-level virtualization system. It can potentially run any binary you have in mind. Furthermore, it can run it in an isolated system, so it can’t touch your files and your precious working configurations.</p>\n\n<p>All you need is for someone to have already containerized your binary so that you can simply download it as an image. There are already a ton of Docker-built images out there waiting for you.</p>\n\n<p>Docker does do more than this. It is a platform for developers and system administrators to develop, deploy, and run applications with containers. If you use it only to run your preferred binary, you’re using 1% of its features.</p>\n\n<p>But let’s start from the beginning.</p>\n\n<p>You can install Docker on your machine by clicking <a href=\"https://docs.docker.com/install/overview/\" target=\"_blank\" rel=\"noopener noreferrer\">this link</a> and selecting your platform from left menu. Then, follow the guide.</p>\n\n<p>Once you have installed Docker, open your preferred Terminal or Command Prompt.</p>\n\n<h3>\n  <a name=\"basic-concepts\" href=\"#basic-concepts\">\n  </a>\n  Basic concepts\n</h3>\n\n<p>First of all, let’s test if your Docker configuration is working correctly. From the terminal:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code><span class=\"nv\">$ </span>docker <span class=\"nt\">--version</span>\nDocker version 18.03.0-ce, build 0520e24\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>If Docker is up and running, you should see your version number.</p>\n\n<p>All you need now is the docker run command.</p>\n\n<p>The first thing to know is the name of the image you want to use. For official images, you usually have the name of the binary with no additions.</p>\n\n<p>For example, in the case of PHP, the image name is simply <code>php</code>. And what about the version? Simple as well, just add the version number (e.g., 7).</p>\n\n<p>Now let’s run our first container.</p>\n\n<h3>\n  <a name=\"situation-1\" href=\"#situation-1\">\n  </a>\n  Situation 1\n</h3>\n\n<blockquote>\n<p>You’re on your Linux workstation, and there is a PHP code that you must execute. But this code only runs under PHP 7, and your workstation only has PHP 5.</p>\n</blockquote>\n\n<p>Ok, now let’s imagine we have this simple code. It only works under PHP 7, because of the spaceship** **operator:<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight php\"><code><span class=\"cp\">&lt;?php</span> <span class=\"k\">echo</span> <span class=\"mi\">1</span> <span class=\"o\">&lt;=&gt;</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>How we can execute this code with Docker? Let’s build our docker run command.<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code><span class=\"nv\">$ </span>docker run <span class=\"nt\">-it</span> php:7\n<span class=\"k\">*</span>Interactive shell\nphp <span class=\"o\">&gt;</span> <span class=\"nb\">echo </span>1&lt;<span class=\"o\">=&gt;</span>0<span class=\"p\">;</span>\n1\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Yes — that’s all we need!</p>\n\n<p>The extra part is the <code>-it</code> flag, but that’s not difficult. Since we are in the interactive shell, it simply specifies that this container should:</p>\n\n<ul>\n<li><p>-t (—tty): allocate a <a href=\"https://unix.stackexchange.com/questions/21147/what-are-pseudo-terminals-pty-tty\" target=\"_blank\" rel=\"noopener noreferrer\">pseudo-TTY</a></p></li>\n<li><p>-i (—interactive): keep <a href=\"https://en.wikipedia.org/wiki/Standard_streams\" target=\"_blank\" rel=\"noopener noreferrer\">STDIN</a> open, even if not attached</p></li>\n</ul>\n\n<p>You should use them most of the time, with some exceptions.</p>\n\n<h3>\n  <a name=\"situation-2\" href=\"#situation-2\">\n  </a>\n  Situation 2\n</h3>\n\n<blockquote>\n<p>You’re working on your MacBook laptop, and you desperately need your sqlmap tool from your Kali Linux distribution. But you don’t have access to your Virtual Machine.</p>\n</blockquote>\n\n<p>Unfortunately, sqlmap doesn’t have an official simple image name. But maybe someone else has created an image. Let’s search for it.<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code><span class=\"nv\">$ </span>docker search sqlmap\n    NAME                     DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED\n    paoloo/sqlmap            Dockered sqlmap. Build instructions: https:/…   6\n    k0st/alpine-sqlmap       sqlmap on alpine <span class=\"o\">(</span>size: ~113 MB<span class=\"o\">)</span>                3                                       <span class=\"o\">[</span>OK]\n    jdecool/sqlmap           sqlmap <span class=\"o\">(</span>Automatic SQL injection<span class=\"o\">)</span> <span class=\"k\">in </span>a contai…   2                                       <span class=\"o\">[</span>OK]\n    harshk13/kali-sqlmap     Kali Linux base image with Sqlmap               1\n    marcomsousa/sqlmap       Simple image that execute Automatic SQL inje…   1                                       <span class=\"o\">[</span>OK]\n....\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>We have several choices. This can happen often. For most cases, the image should be the first one (or the one with the greater star count).</p>\n\n<p>Let’s use it.<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code><span class=\"nv\">$ </span>docker run <span class=\"nt\">-it</span> paoloo/sqlmap <span class=\"nt\">--url</span> <span class=\"o\">[</span>http://localhost]<span class=\"o\">(</span>http://localhost<span class=\"o\">)</span>\n             _\n     ___ ___| |_____ ___ ___  <span class=\"o\">{</span>1.0.9.32#dev<span class=\"o\">}</span>\n    |_ -| <span class=\"nb\">.</span> | |     | .<span class=\"s1\">'| . |\n    |___|_  |_|_|_|_|__,|  _|\n          |_|           |_|   [http://sqlmap.org](http://sqlmap.org)\n\n[!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user'</span>s responsibility to obey all applicable <span class=\"nb\">local</span>, state and federal laws. Developers assume no liability and are not responsible <span class=\"k\">for </span>any misuse or damage caused by this program.\n...\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>All arguments that are after [docker run -it {image}]** **are passed to the binary executed in Docker, which is sqlmap in this case.</p>\n\n<p>Easy enough, right? Yes, but there is a con.</p>\n\n<p>sqlmap writes log files onto the disk in the <code>~/.sqlmap</code> path. But since Docker containers run in an isolated environment, we lose everything!!</p>\n\n<p>This is a feature, but in this case represents a bug for us — let’s fix it.</p>\n\n<p>To enable persistence so that we don’t lose that log file, we have to create a bind mount between our workstation (host) and the Docker container.</p>\n\n<p>Let’s decide that our host bind mount directory is <code>/tmp/sqlmap</code>. This should be an empty directory created only for this purpose!<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code><span class=\"nv\">$ </span>docker run <span class=\"nt\">-it</span> <span class=\"nt\">-v</span> <span class=\"se\">\\</span>\n   /tmp/sqlmap:/root/.sqlmap <span class=\"se\">\\</span>\n   paoloo/sqlmap <span class=\"se\">\\</span>\n   <span class=\"nt\">--url</span> <span class=\"o\">[</span>http://localhost]<span class=\"o\">(</span>http://localhost<span class=\"o\">)</span>\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>With the -v option we’ll create a bind mount. The first argument is the host path, and the second is the path on the container that we want to map.</p>\n\n<p>And, in fact, everything has been saved — including our reports.</p>\n\n<h3>\n  <a name=\"situation-3\" href=\"#situation-3\">\n  </a>\n  Situation 3\n</h3>\n\n<blockquote>\n<p>You’re on your Windows PC, and you immediately need an NGINX server that serves your static files from a directory.</p>\n</blockquote>\n\n<p>As you may have noticed, the first time you run docker run, it downloads the images from <a href=\"https://hub.docker.com\" target=\"_blank\" rel=\"noopener noreferrer\">the Docker Hub</a>.</p>\n\n<p>This could be hundreds of hundreds gigabytes. This is because we downloaded the tag latest of the image (the default).</p>\n\n<p>But most images have also an ‘alpine’ version of the same image. It uses Linux Alpine OS. This is an optimized version of Linux, which occupies about 130MB.</p>\n\n<p>Let’s use it in this situation. We know that image name upfront is <code>nginx</code> (since it is an official image).</p>\n\n<p>So the final image name will be <code>nginx:alpine</code>. If you want a specific version (such as 1.14), use <code>nginx:1.14-alpine</code>.</p>\n\n<p>You may have more questions. How do we know which directory the NGINX container uses to serve our files? How do we know which port it exposes?</p>\n\n<p>Luckily, the answers to all your questions are in <a href=\"https://hub.docker.com/_/nginx/\" target=\"_blank\" rel=\"noopener noreferrer\">the Docker Hub</a>.</p>\n\n<p>So, to recap:</p>\n\n<ul>\n<li><p>We have to share our directory to serve into the container. Again, this can be done using bind mounts: <code>-v \"$(pwd):/usr/share/nginx/html\"</code></p></li>\n<li><p>By adding :ro at the end, we are sure that container uses our files in read-only mode.</p></li>\n<li><p>We must bind the port exposed by the container to the host, and then communicate via TCP on our host: -p 80:80<br>\n</p></li>\n</ul>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight shell\"><code><span class=\"nv\">$ </span>docker run <span class=\"se\">\\</span>\n   <span class=\"nt\">-v</span> <span class=\"si\">$(</span><span class=\"nb\">pwd</span><span class=\"si\">)</span>:/usr/share/nginx/html:ro <span class=\"se\">\\</span>\n   <span class=\"nt\">-p</span> 80:80 <span class=\"se\">\\</span>\n   nginx:alpine\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<h3>\n  <a name=\"situation-4\" href=\"#situation-4\">\n  </a>\n  Situation 4\n</h3>\n\n<blockquote>\n<p>No matter which platform, you have to start your Node.js 10 project. But you don’t have Node.js installed on your platform.</p>\n</blockquote>\n\n<p>Perhaps you now understand how it works. Here, we have to share our content and bind ports.</p>\n\n<p>However, we don’t know the container working directory. Instead, we’re gonna explicitly set it with the -w flag to a custom directory of our choice. For example, you might choose/src — just don’t override an existing directory!<br>\n</p>\n\n<div class=\"highlight js-code-highlight\">\n<pre class=\"highlight plaintext\"><code>$ docker run \\\n   -p 3000:3000 \\\n   -v $(pwd):/src \\\n   -w /src \\\n   node:10-alpine \\\n   node main.js\n</code></pre>\n<div class=\"highlight__panel js-actions-panel\">\n<div class=\"highlight__panel-action js-fullscreen-code-action\">\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"><title>Enter fullscreen mode</title>\n    <path d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"></path>\n</svg>\n\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"><title>Exit fullscreen mode</title>\n    <path d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"></path>\n</svg>\n\n</div>\n</div>\n</div>\n\n\n\n<p>Simple and powerful enough?</p>\n\n<p>Additionally, do you want a ‘shortcut’ to just execute binaries without searching for third-party images?</p>\n\n<p>Why don’t you try <a href=\"https://github.com/kopiro/dr\" target=\"_blank\" rel=\"noopener noreferrer\">my simple tool DR</a>?</p>\n\n<p>I hope that you’re gonna use Docker for all your future binaries! :)</p>\n\n",
  "body_markdown": "\nHave you ever encountered a situation like the ones below?\n\n**Situation 1**: You’re on your Linux workstation, and there is a PHP code that you must execute. But this code only runs under PHP 7, and your workstation only has PHP 5.\n\n**Situation 2**: You’re working on your MacBook laptop, and you desperately need your sqlmap tool from your Kali Linux distribution. But you don’t have access to your Virtual Machine.\n\n**Situation 3**: You’re on your Windows PC, and you immediately need an NGINX server that serves your static files from a directory.\n\n**Situation 4**: No matter which platform, you have to start your Node.js 10 project. But you don’t have Node.js installed on your platform.\n\nOr, in general, have you ever been a situation like this:\n\n**Situation X:** you are on one platform, and you immediately need a specific Linux tool, without altering your configuration or installing additional software.\n\nAll these situations can be easily solved with a single tool you may have already heard about. It works without messing up your computer by installing additional software, or editing configurations that worked for a long time.\n\n**Docker** is an OS-level virtualization system. It can potentially run any binary you have in mind. Furthermore, it can run it in an isolated system, so it can’t touch your files and your precious working configurations.\n\nAll you need is for someone to have already containerized your binary so that you can simply download it as an image. There are already a ton of Docker-built images out there waiting for you.\n\nDocker does do more than this. It is a platform for developers and system administrators to develop, deploy, and run applications with containers. If you use it only to run your preferred binary, you’re using 1% of its features.\n\nBut let’s start from the beginning.\n\nYou can install Docker on your machine by clicking [this link](https://docs.docker.com/install/overview/) and selecting your platform from left menu. Then, follow the guide.\n\nOnce you have installed Docker, open your preferred Terminal or Command Prompt.\n\n### Basic concepts\n\nFirst of all, let’s test if your Docker configuration is working correctly. From the terminal:\n\n```bash\n$ docker --version\nDocker version 18.03.0-ce, build 0520e24\n```\n\nIf Docker is up and running, you should see your version number.\n\nAll you need now is the docker run command.\n\nThe first thing to know is the name of the image you want to use. For official images, you usually have the name of the binary with no additions.\n\nFor example, in the case of PHP, the image name is simply `php`. And what about the version? Simple as well, just add the version number (e.g., 7).\n\nNow let’s run our first container.\n\n### Situation 1\n\n> You’re on your Linux workstation, and there is a PHP code that you must execute. But this code only runs under PHP 7, and your workstation only has PHP 5.\n\nOk, now let’s imagine we have this simple code. It only works under PHP 7, because of the spaceship** **operator:\n\n```php\n<?php echo 1 <=> 0;\n```\n\nHow we can execute this code with Docker? Let’s build our docker run command.\n\n```bash\n$ docker run -it php:7\n*Interactive shell\nphp > echo 1<=>0;\n1\n```\n\nYes — that’s all we need!\n\nThe extra part is the `-it` flag, but that’s not difficult. Since we are in the interactive shell, it simply specifies that this container should:\n\n* -t (—tty): allocate a [pseudo-TTY](https://unix.stackexchange.com/questions/21147/what-are-pseudo-terminals-pty-tty)\n\n* -i (—interactive): keep [STDIN](https://en.wikipedia.org/wiki/Standard_streams) open, even if not attached\n\nYou should use them most of the time, with some exceptions.\n\n### Situation 2\n\n> You’re working on your MacBook laptop, and you desperately need your sqlmap tool from your Kali Linux distribution. But you don’t have access to your Virtual Machine.\n\nUnfortunately, sqlmap doesn’t have an official simple image name. But maybe someone else has created an image. Let’s search for it.\n\n```bash\n$ docker search sqlmap\n    NAME                     DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED\n    paoloo/sqlmap            Dockered sqlmap. Build instructions: https:/…   6\n    k0st/alpine-sqlmap       sqlmap on alpine (size: ~113 MB)                3                                       [OK]\n    jdecool/sqlmap           sqlmap (Automatic SQL injection) in a contai…   2                                       [OK]\n    harshk13/kali-sqlmap     Kali Linux base image with Sqlmap               1\n    marcomsousa/sqlmap       Simple image that execute Automatic SQL inje…   1                                       [OK]\n....\n```\n\nWe have several choices. This can happen often. For most cases, the image should be the first one (or the one with the greater star count).\n\nLet’s use it.\n\n```bash\n$ docker run -it paoloo/sqlmap --url [http://localhost](http://localhost)\n             _\n     ___ ___| |_____ ___ ___  {1.0.9.32#dev}\n    |_ -| . | |     | .'| . |\n    |___|_  |_|_|_|_|__,|  _|\n          |_|           |_|   [http://sqlmap.org](http://sqlmap.org)\n\n[!] legal disclaimer: Usage of sqlmap for attacking targets without prior mutual consent is illegal. It is the end user's responsibility to obey all applicable local, state and federal laws. Developers assume no liability and are not responsible for any misuse or damage caused by this program.\n...\n```\n\nAll arguments that are after [docker run -it {image}]** **are passed to the binary executed in Docker, which is sqlmap in this case.\n\nEasy enough, right? Yes, but there is a con.\n\nsqlmap writes log files onto the disk in the `~/.sqlmap` path. But since Docker containers run in an isolated environment, we lose everything!!\n\nThis is a feature, but in this case represents a bug for us — let’s fix it.\n\nTo enable persistence so that we don’t lose that log file, we have to create a bind mount between our workstation (host) and the Docker container.\n\nLet’s decide that our host bind mount directory is `/tmp/sqlmap`. This should be an empty directory created only for this purpose!\n\n```bash\n$ docker run -it -v \\\n   /tmp/sqlmap:/root/.sqlmap \\\n   paoloo/sqlmap \\\n   --url [http://localhost](http://localhost)\n```\n\nWith the -v option we’ll create a bind mount. The first argument is the host path, and the second is the path on the container that we want to map.\n\nAnd, in fact, everything has been saved — including our reports.\n\n### Situation 3\n\n> You’re on your Windows PC, and you immediately need an NGINX server that serves your static files from a directory.\n\nAs you may have noticed, the first time you run docker run, it downloads the images from [the Docker Hub](https://hub.docker.com).\n\nThis could be hundreds of hundreds gigabytes. This is because we downloaded the tag latest of the image (the default).\n\nBut most images have also an ‘alpine’ version of the same image. It uses Linux Alpine OS. This is an optimized version of Linux, which occupies about 130MB.\n\nLet’s use it in this situation. We know that image name upfront is `nginx` (since it is an official image).\n\nSo the final image name will be `nginx:alpine`. If you want a specific version (such as 1.14), use `nginx:1.14-alpine`.\n\nYou may have more questions. How do we know which directory the NGINX container uses to serve our files? How do we know which port it exposes?\n\nLuckily, the answers to all your questions are in [the Docker Hub](https://hub.docker.com/_/nginx/).\n\nSo, to recap:\n\n* We have to share our directory to serve into the container. Again, this can be done using bind mounts: `-v \"$(pwd):/usr/share/nginx/html\"`\n\n* By adding :ro at the end, we are sure that container uses our files in read-only mode.\n\n* We must bind the port exposed by the container to the host, and then communicate via TCP on our host: -p 80:80\n\n```bash\n$ docker run \\\n   -v $(pwd):/usr/share/nginx/html:ro \\\n   -p 80:80 \\\n   nginx:alpine\n```\n\n### Situation 4\n\n> No matter which platform, you have to start your Node.js 10 project. But you don’t have Node.js installed on your platform.\n\nPerhaps you now understand how it works. Here, we have to share our content and bind ports.\n\nHowever, we don’t know the container working directory. Instead, we’re gonna explicitly set it with the -w flag to a custom directory of our choice. For example, you might choose/src — just don’t override an existing directory!\n\n```\n$ docker run \\\n   -p 3000:3000 \\\n   -v $(pwd):/src \\\n   -w /src \\\n   node:10-alpine \\\n   node main.js\n```\n\nSimple and powerful enough?\n\nAdditionally, do you want a ‘shortcut’ to just execute binaries without searching for third-party images?\n\nWhy don’t you try [my simple tool DR](https://github.com/kopiro/dr)?\n\nI hope that you’re gonna use Docker for all your future binaries! :)\n",
  "user": {
    "name": "Flavio De Stefano",
    "username": "kopiro",
    "twitter_username": "destefanoflavio",
    "github_username": "kopiro",
    "user_id": 386888,
    "website_url": "https://www.kopiro.me",
    "profile_image": "https://media2.dev.to/dynamic/image/width=640,height=640,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Fuser%2Fprofile_image%2F386888%2Ff683c0ad-bdf7-4401-9141-46416239d66d.jpg",
    "profile_image_90": "https://media2.dev.to/dynamic/image/width=90,height=90,fit=cover,gravity=auto,format=auto/https%3A%2F%2Fdev-to-uploads.s3.amazonaws.com%2Fuploads%2Fuser%2Fprofile_image%2F386888%2Ff683c0ad-bdf7-4401-9141-46416239d66d.jpg"
  }
}